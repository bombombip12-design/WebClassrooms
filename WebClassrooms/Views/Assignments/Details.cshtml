@model WebClassrooms.Models.Assignment
@{
    ViewData["Title"] = "Chi tiết bài tập";
}

<div class="card mb-3">
    <div class="card-body">
        <h4>@Model.Title</h4>
        <p>@Model.Description</p>
        <p><strong>Hạn nộp:</strong> @(Model.DueDate?.ToString("yyyy-MM-dd HH:mm") ?? "Không có")</p>
        <p><strong>Lớp:</strong> @Model.Class?.ClassName</p>
        <p><strong>Người tạo:</strong> @Model.Creator?.FullName</p>
    </div>
</div>

<div class="mb-3">
    <h5>Nộp bài</h5>
    <form asp-controller="Submissions" asp-action="Create" method="post" enctype="multipart/form-data">
        <input type="hidden" name="AssignmentId" value="@Model.Id" />
        <div class="mb-3">
            <label class="form-label">File (demo)</label>
            <input type="file" name="file" class="form-control" />
        </div>
        <button class="btn btn-primary">Nộp bài</button>
    </form>
</div>

<div>
    <h5>Danh sách nộp bài</h5>
    <table class="table">
        <thead>
            <tr><th>Sinh viên</th><th>Thời gian</th><th>Điểm</th></tr>
        </thead>
        <tbody>
            @foreach (var s in Model.Submissions ?? Enumerable.Empty<WebClassrooms.Models.Submission>())
            {
                <tr>
                    <td>@s.Student?.FullName</td>
                    <td>@s.SubmittedAt.ToString("yyyy-MM-dd HH:mm")</td>
                    <td>@(s.Score.HasValue ? s.Score.ToString() : "-")</td>
                </tr>
            }
        </tbody>
    </table>
</div>
